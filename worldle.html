<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YOU ARE MY WORLDle</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #121212;
            color: #ffffff;
            margin: 0;
            padding: 0;
            text-align: center;
        }

        h1 {
            font-size: 2em;
            margin-top: 20px;
        }

        p {
            font-size: 1.2em;
            margin-bottom: 20px;
        }

        .guess-row {
            margin: 10px auto;
            display: flex;
            justify-content: center;
        }

        .guess-input {
            width: 40px;
            height: 40px;
            text-align: center;
            font-size: 1.5em;
            border: none;
            background-color: #333333;
            color: #ffffff;
            margin: 0 5px;
        }

        .guess-input:focus {
            outline: none;
            background-color: #555555;
        }

        #keyboard {
            margin-top: 20px;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            max-width: 300px;
            margin: 20px auto;
        }

        #keyboard button {
            width: 40px;
            height: 40px;
            margin: 5px;
            font-size: 1.2em;
            border: none;
            background-color: #333333;
            color: #ffffff;
            cursor: pointer;
        }

        #keyboard button:focus {
            outline: none;
            background-color: #555555;
        }

        #ok-button, #reset-button {
            width: 100px;
            height: 40px;
            margin-top: 20px;
            font-size: 1.2em;
            border: none;
            cursor: pointer;
            margin: 5px;
        }

        #ok-button {
            background-color: #28a745;
            color: #ffffff;
        }

        #ok-button:hover {
            background-color: #218838;
        }

        #reset-button {
            background-color: #dc3545;
            color: #ffffff;
        }

        #reset-button:hover {
            background-color: #c82333;
        }

        #result {
            font-size: 1.2em;
            margin-top: 20px;
        }

        .bottomText { 
            font-size: 1.2em;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>YOU ARE MY WORLDle</h1>

    <div id="guesses-container">
        <div class="guess-row" id="guess-row-0">
            <input type="text" class="guess-input" id="guess-0-0" readonly>
            <input type="text" class="guess-input" id="guess-1-0" readonly>
            <input type="text" class="guess-input" id="guess-2-0" readonly>
            <input type="text" class="guess-input" id="guess-3-0" readonly>
            <input type="text" class="guess-input" id="guess-4-0" readonly>
        </div>
    </div>

    <div>Sorry love, only three guesses üòú <br> Are words related to us. And sorry no yellow letters yet üë®üèº‚Äçüî¨. <br> If the position is ok will be green.</div>

    <div id="keyboard">
        <button onclick="insertLetter('Q')">Q</button>
        <button onclick="insertLetter('W')">W</button>
        <button onclick="insertLetter('E')">E</button>
        <button onclick="insertLetter('R')">R</button>
        <button onclick="insertLetter('T')">T</button>
        <button onclick="insertLetter('Y')">Y</button>
        <button onclick="insertLetter('U')">U</button>
        <button onclick="insertLetter('I')">I</button>
        <button onclick="insertLetter('O')">O</button>
        <button onclick="insertLetter('P')">P</button>
        <button onclick="insertLetter('A')">A</button>
        <button onclick="insertLetter('S')">S</button>
        <button onclick="insertLetter('D')">D</button>
        <button onclick="insertLetter('F')">F</button>
        <button onclick="insertLetter('G')">G</button>
        <button onclick="insertLetter('H')">H</button>
        <button onclick="insertLetter('J')">J</button>
        <button onclick="insertLetter('K')">K</button>
        <button onclick="insertLetter('L')">L</button>
        <button onclick="insertLetter('Z')">Z</button>
        <button onclick="insertLetter('X')">X</button>
        <button onclick="insertLetter('C')">C</button>
        <button onclick="insertLetter('V')">V</button>
        <button onclick="insertLetter('B')">B</button>
        <button onclick="insertLetter('N')">N</button>
        <button onclick="insertLetter('M')">M</button>
    </div>

    <button id="ok-button" onclick="submitGuess()">OK</button>
    <button id="reset-button" onclick="resetLine()">Reset</button>

    <p id="result"></p>

    <hr>

    <div class="bottomText">I love you forever <a style="text-decoration:none" href="https://open.spotify.com/track/6BEP2k75mE8u8gHdvxV3mn?si=34b3a4493d944e6e">‚ù§Ô∏è</a></div>
    <div class="bottomText">Counting the days to see you <a style="text-decoration:none" href="/wherehavewebeen/countdown.html">üóìÔ∏è</a></div>
    <div class="bottomText"><a style="text-decoration:none" href="/wherehavewebeen/">Back to main page üèÉüèº‚Äç‚ôÄÔ∏è</a></div>

    <script>
        // Define the correct word
        const correctWord = "NICHE";
        // Initialize the guessed word
        let guessedWord = ["_", "_", "_", "_", "_"];
        // Initialize the number of tries
        let tries = 3;

        // Check if there is any progress saved in local storage
        const savedGuessedWord = localStorage.getItem('guessedWord');
        const savedTries = localStorage.getItem('tries');
        if (savedGuessedWord && savedTries) {
            guessedWord = JSON.parse(savedGuessedWord);
            tries = parseInt(savedTries);
        }

        // Function to save the current progress in local storage
        function saveProgress() {
            localStorage.setItem('guessedWord', JSON.stringify(guessedWord));
            localStorage.setItem('tries', tries.toString());
        }

        // Get the guesses container and result element
        const guessesContainer = document.getElementById('guesses-container');
        const resultElement = document.getElementById('result');

        // Function to create a new row of guess inputs
        function createGuessRow() {
            const newRow = document.createElement('div');
            newRow.classList.add('guess-row');
            newRow.id = `guess-row-${guessesContainer.children.length}`;
            for (let i = 0; i < correctWord.length; i++) {
                const input = document.createElement('input');
                input.type = 'text';
                input.classList.add('guess-input');
                input.id = `guess-${i}-${guessesContainer.children.length}`;
                input.readOnly = true;
                newRow.appendChild(input);
            }
            guessesContainer.appendChild(newRow);

            // Focus on the first input
            newRow.children[0].focus();
        }

        // Function to update the guessed word
        function updateGuessedWord() {
            guessedWord.forEach((letter, index) => {
                const input = document.getElementById(`guess-${index}-${guessesContainer.children.length - 1}`);
                input.value = letter;
                input.style.backgroundColor = '#333333'; // Reset background color
            });
        }

        // Function to insert a letter into the inputs
        function insertLetter(letter) {
            for (let i = 0; i < guessedWord.length; i++) {
                if (guessedWord[i] === "_") {
                    guessedWord[i] = letter;
                    updateGuessedWord();
                    break;
                }
            }
        }

        // Function to reset the current line
        function resetLine() {
            guessedWord = ["_", "_", "_", "_", "_"];
            updateGuessedWord();
        }

        // Function to submit the guess
        function submitGuess() {
            if (tries <= 0) return; // No more tries left
            const guessedWordStr = guessedWord.join('');
            if (guessedWordStr === correctWord) {
                // Correct word guessed
                resultElement.textContent = `You are AMAAAAZING love üòç`;
                resultElement.style.color = 'green';
                guessedWord.forEach((letter, index) => {
                    const input = document.getElementById(`guess-${index}-${guessesContainer.children.length - 1}`);
                    input.style.backgroundColor = 'green';
                });
            } else {
                // Update the background color of each letter after submitting the guess
                guessedWord.forEach((letter, index) => {
                    const input = document.getElementById(`guess-${index}-${guessesContainer.children.length - 1}`);
                    if (letter === correctWord[index]) {
                        input.style.backgroundColor = 'green';
                    }
                });
                // Incorrect word guessed
                resultElement.textContent = `Wrong guess. You have ${--tries} tries left.`;
                resultElement.style.color = 'red';
                if (tries <= 0) {
                    resultElement.textContent = `Hey Love! You ran out of tries! The word was ${correctWord}`;
                } else {
                    // Create a new row for the next guess
                    createGuessRow();
                    resetLine(); // Reset the current line
                }
            }
        // Save progress after each guess
        saveProgress();
        }

        // Load the initial progress
        updateGuessedWord();
    </script>
</body>
</html>
